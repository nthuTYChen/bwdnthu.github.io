<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Bilingual Web Design@DFLL NTHU; Tsung-Ying Chen</title>
		<link rel="stylesheet" href="/css/style.css">
		<script src="/js/jquery-3.2.1.min.js"></script>
		<meta charset="UTF-8">
	</head>
	<body>
		<nav>
			<h2>
				<a href="/bwd/">Intro</a>
				<a href="/bwd/htmlbasics/">HTML Basics</a>
				<a href="/bwd/cssbasics/">CSS Basics</a>
				<a href="/bwd/jsbasics/">JS Basics</a>
				<a class="selected" href="/bwd/jquery/">jQuery</a>
				<a href="/bwd/rwd/">Responsive Web</a>
				<a href="/bwd/cssanimation/">CSS Animation</a>
				<a href="/bwd/engissues/">English Issues</a>
				<a href="/bwd/students/">Students</a>
			</h2>
		</nav>
		<div class="container">
			<article>
				<h1>5. jQuery</h1>
				<p>Tired of juggling with crazily long JavaScript codes? Here's the tool to help you deal with your poor cognitive load.</p>
				<p><a href="#overview">Overview</a> / <a href="#dollarsign">The dollar sign</a> / <a href="#functions">The essential functions</a> / <a href="#useful">Some more useful functions</a> / <a href="#technical">Advanced technical stuff</a> / <a href="#casestudy">Case studies</a> / <a href="#timetoexplore">It's time to explore!</a> / <a href="#forthenextunit">For the next unit...</a></p>
				<section>
					<h2 id="#overview">Overview</h2>
					<picture>
						<img src="./img/jquery.png" style="width: 25%; height: auto;"/>
					</picture>
					<p>All JavaScript codes make perfect sense: <code>addEventListener</code>? Sure. <code>document.querySelector()</code>? Fine. <code>document.getElementByTagName('div')[0].addEventListener()</code>? Probably a bit too much, right? Here's your savior: <em class="extra">jQuery</em> (<a href="https://jquery.com/" target="blank">https://jquery.com/</a>). It's still based on JavaScript, but it makes JavaScript programming much easier.</p>
					<p>Before introducing the basics of jQuery, let's try to embed jQuery into our website so we can use it. You can see different versions of jQuery at <a href="https://code.jquery.com/" target="blank">https://code.jquery.com/</a>, and of course we go for the most updated 3.x version. On this webpage, you would see various types of codes for jQuery Core, including <em>uncompressed</em>, <em>minified</em>, <em>slim</em>, and <em>slim minified</em>. Most people would probably use the <em class="extra">minified</em> version, which comes without any comments and with simplified codes and a reduced file size to facilitate data transmission. The <em>slim</em> versions further exclude some functions that are considered more marginal, such as those related to CSS animation, so for us they could be a bit oversimplified.</p>
					<h3>Get ready</h3>
					<p>There are two ways of incorporating jQuery into your website projects. First, we can use the <code>&lt;script&gt;</code> HTML tag inside <code>&lt;head&gt;&lt;/head&gt;</code> in an HTML document to retrieve the jQuery file from the official website (here <em>v3.5.1</em> is used as the example), just like how we linked a JS file to our webpage:</p>
					<code>
						&lt;script src="https://code.jquery.com/jquery-3.5.1.min.js"&gt;&lt;/script&gt;
					</code>
					<p>Or, following the official suggestion, we should have the complete line below for security reasons:</p>
					<code>
						&lt;script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"&gt;&lt;/script&gt;
					</code>
					<p>You can move the above line into <code>&lt;body&gt;&lt;/body&gt;</code>, which may not affect how your website works eventually. But to be safe, it is still the best idea to have the above line inside <code>&lt;head&gt;&lt;/head&gt;</code> as part of the metadata of a webpage, which is always loaded first. Crucially, if you have any jQuery codes to be run when the <em>Document Object Model (DOM)</em> of the webpage is ready, then the jQuery file <em class="extra">must</em> be linked inside <code>&lt;body&gt;&lt;/body&gt;</code> so it is guaranteed to be fully loaded before the DOM is ready. Or, your website may not work properly since the jQuery codes are run when the jQuery file is still on its way.</p>
					<p>Alternatively, if your Web space can afford an additional file sized just a few hundreds KBs, which is likely the case if you host your website at GitHub, then why not just download the entire jQuery Core file and put it in your own website? One benefit of doing this is that you don't rely on the external source of your jQuery Core file, so your website remains unaffected even when the official jQuery website is down (very unlikely, but who knows?). So assuming that you have a <code>js</code> directory under the <em class="extra">root</em> directory <code>/</code> as suggested in previous units, we can store the jQuery Core file to that directory. Again, the files you store in the subdirectories directly under the root directory are assumed to be used globally in your entire website, rather than specifically for a given webpage. Now, we can embed the following HTML codes inside <code>&lt;head&gt;&lt;/head&gt;</code> to load the jQuery file stored in your own website into your webpage:</p>
					<code>
						&lt;!-- The first "/" in the path refers to the root directory --&gt;<br/>
						&lt;script src="/js/jquery-3.5.1.min.js"&gt;&lt;/script&gt;
					</code>
					<p>Because from now on, your codes will be based on the jQuery Core file, your links to other JS files you have for a particular webpage must follow the above lines used to load the jQuery Core file. Once again, if you have any jQuery codes that need to be run at the very beginning after a webpage is loaded, then you want to be sure that the jQuery Core file is loaded first.</p>
					<p>So, now you're ready to enjoy Web programming even more, and I'm here to help. This won't be a complete guide, so just in case that you want to know further about what jQuery can make things easier, check the full jQuery API documentation at <a href="https://api.jquery.com/" target="blank">https://api.jquery.com/</a>.</p>
				</section>
				<section>
					<h2 id="dollarsign">The dollar sign</h2>
					<picture>
						<img src="./img/showme.gif" style="width: 50%; height: auto;" />
						<sub>Source: Jerry McGuire the movie</sub>
					</picture>
					<p>In our JavaScript tutorial, we have learned the <code>window</code> object is at the center of JavaScript programming, which refers to the Web browser window and could be omitted when we try to access the HTML document itself inside the browser window with the keyword <code>document</code>. Here in this tutorial, we would start with the dollar sign <code>$</code>, which stands for <em class="extra">jQuery</em> itself. For instance, the two lines of jQuery codes below are exactly the same thing, except that the first line is simpler than the second line:</p>
					<code>
						$.ajax(); // You don't have to know what ajax is at this point<br/>
						jQuery.ajax(); // The same thing<br/>
					</code>
					<p>Not only does it help to save your effort in writing your codes, it also helps reduce the size of your JS files and speed up the loading of your entire website. Let's see how much effort jQuery saves in terms of the action we possibly need the most in our JS codes - retrieving HTML elements.</p>
					<h3>The query selector in three characters</h3>
					<p>I hope you still remember a few JS functions we have used to access an HTML document and retrieve some HTML elements. These includes <code>getElementById()</code>, <code>getElementsByTagName()</code>, <code>getElementsByClassName()</code>, <code>querySelector()</code>, and <code>querySelectorAll()</code>. The last two are the most crucial ones when you need to get HTML elements depending on the complex relationship between children and ancestors in a DOM. Supposed that you need to retrieve all <code>&lt;p&gt;</code> elements that have <code>&lt;body&gt;</code> as their immediate ancestor, you might need to write the expectedly long JS codes like:</p>
					<code>
						document.querySelectorAll('body > p'); // Get all &lt;p&gt; elements immediately inside &lt;body&gt;
					</code>
					<p>In jQuery, we can exactly replicate the same function of <code>querySelectorAll()</code> with three characters, namely <code>$()</code>:</p>
					<code>
						$('body > p'); // Also get all &lt;p&gt; elements immediately inside &lt;body&gt;
					</code>
					<p>Just like <code>querySelectorAll()</code>, <code>$()</code> returns an <em class="extra">array</em> of one or more matched HTML elements or an <em>empty</em> array that has a length of <em class="extra">zero</em>. Let's create the following HTML document with some practices of retrieving HTML elements using jQuery:</p>
					<code>
						&lt;body&gt;
						<code>
							&lt;p&gt;
							<code>
								p1
							</code>
							&lt;/p&gt;<br/>
							&lt;p class="special"&gt;
							<code>
								p2
							</code>
							&lt;/p&gt;<br/>
							&lt;p class="special last"&gt;
							<code>
								&lt;p&gt;<br/>
								&lt;/p&gt;
							</code>
							&lt;/p&gt;
						</code>
						&lt;/body&gt;
					</code>
					<p>Now, let's try to do the find the following HTML elements and print their <em class="extra">HTML contents</em> out in the browser console:</p>
					<ol>
						<li>The <code>&lt;p&gt;</code> element that is the immediate child of the element whose class is <code>last</code>.</li>
						<li>The last <code>&lt;p&gt;</code> element whose ancestor is &lt;body&gt;.</li>
						<li>All <code>&lt;p&gt;</code> elements that are an immediate child of &lt;body&gt;.</li>
						<li>The second <code>&lt;p&gt;</code> element of the class <code>special</code>.</li>
					</ol>
					<h3>eq() and html()</h3>
					<p>The way you completed the above task may still involve some old thinking with the idea of array, which is absolutely nothing wrong. For instance, you might use the following code to retrieve the first <code>&lt;p&gt;</code> element, where the square brackets are used to indicate the first element of the array returned by <code>$()</code>:</p>
					<code>
						$('p')[0]; // The first of all &lt;p&gt; elements
					</code>
					<p>But if you need to get the last item, what we have learned to do up to this point is still sort of troublesome. You get an array of HTML elements, get the length of the array, and retrieve the last element from the array with the index as the length of the array minus 1. <em>Gee!</em> The jQuery developers must have been bothered by the same problem, which drove them to create the second jQuery function you need learn in this tutorial, namely <code>eq()</code>. Similar to the square brackets <code>[]</code>, <code>eq()</code> allows you to choose a specific item based on an index, except that you can count backward from the end of a series of elements with a <em class="extra">negative</em> number:</p>
					<code>
						$('p').eq(0); // The first of all &lt;p&gt; elements<br/>
						$('p').eq(-1); // The last of all &lt;p&gt; elements
					</code>
					<p>When you use <code>eq()</code> to choose an HTML element from a set of matched elements, you need to use the jQuery function <code>html()</code> (which corresponds to the <code>innerHTML</code> property) to retrieve the HTML contents of the chosen element:</p>
					<code>
						$('p').eq(0).html(); // The HTML contents of the first of all &lt;p&gt; elements
					</code>
					<p>If you're very sure that you just need the <em>first</em> element of a group of selected elements, you can further simplify the above code by removing <code>eq(0)</code>:</p>
					<code>
						$('p').html(); // Still the HTML contents of the first of all &lt;p&gt; elements
					</code>
					<p>Now, why don't we try the practices we have done earlier using <code>eq()</code> and <code>html()</code>?</p>
					<p>Isn't it so much easier to do different things in jQuery? That's why jQuery becomes so popular in Web programming. Note that jQuery is still not magic at all - it is still based on the original JavaScript and the developers of jQuery simply create functions to help simply our use of JavaScript. Thus, the convenience of jQuery comes at the cost of the computational efficiency of JavaScript, although with very powerful computers and mobile devices at our disposal, the difference is often negligible.</p>
				</section>
				<section>
					<h2 id="functions">Some essential functions</h2>
					<p>With a general understanding of how jQuery works, let's move to some tutorials introducing jQuery functions that you will be using a lot in addition to <code>eq()</code> and <code>html()</code> above.</p>
					<h3>val()</h3>
					<p>In the JavaScript tutorial, we had examples in which we tried to retrieve or set the <em>value</em> of an HTML element, with a length code like <code>document.querySelector(some element).value</code>. Now, it can be reduced with the jQuery function <code>val()</code>. This can be demonstrated with an HTML document that has the following <code>input</code> element in <code>&lt;body&gt;</code>:</p>
					<code>
						&lt;input type="text" value="This is a default value." /&gt;
					</code>
					<p>In a JS file, we can try to show an alert box with the value of the <code>input</code> element with the <code>val()</code> function when the window is fully loaded:</p>
					<code>
						window.onload = function() {
						<code>
							var defaultInputVal = $('input').eq(0).val();<br/>
							alert(defaultInputVal);
						</code>
						}
					</code>
					<p>
						Of course, it means that you can set the value of an HTML element with the same function, too:
					</p>
					<code>
						window.onload = function() {
						<code>
							$('input').eq(0).val('This is not the default value.'); // Set a new value<br/>
							alert('A new input value is set!');
						</code>
						}
					</code>
					<h3>on() and off()</h3>
					<p>Remember the <code>addEventListener()</code> function of an HTML object accessed in a JS file to create some interactive interface for your website? There's of couse an equivalent function in jQuery as well, which is <code>on()</code>. This function requires two types of data: The first one is event type (as a <em>string</em>), and the second one is a <em class="extra">callback</em> function executed when an event is <em>fired</em>. Let's try the <code>click</code> event first:</p>
					<code>
						window.onload = function() { // Make sure the document is fully loaded
						<code>
							$('input').eq(0).on('click', function() {
							<code>
								alert('An input is clicked!');
							</code>
							});
						</code>
						}
					</code>
					<p>Now let's do a more complicated trick with the <code>keypress</code> event. That is, to update what you type in the <code>input</code> to a <code>&lt;textarea&gt;&lt;/textarea&gt;</code> <em class="extra">inline</em> element instantly. Let's create the element we need right before the <code>&lt;input&gt;</code> element:</p>
					<code>
						&lt;!-- Set the inline style to make a larger textarea, and add a line break after it --&gt;<br/>
						&lt;textarea style="width: 300px; height: 300px;"&gt;&lt;/textarea&gt;&lt;br/&gt;
					</code>
					<p>What we need to do next is to write jQuery codes doing the following things: First, add an event listener for the <code>keypress</code> event to the <code>&lt;input&gt;</code> element. Second, set the inner HTML contents of the <code>&lt;textarea&gt;</code> element every time you edit the contents of the <code>&lt;input&gt;</code> element.</p>
					<code>
						window.onload = function() {
						<code>
							$('input').eq(0).on('keypress', function() {
							<code>
								$('textarea').eq(0).html($(this).val()); // Do you know what this line means?
							</code>
							});
						</code>
						}
					</code>
					<p>In fact, jQuery comes with functions that directly correspond to the event types accepted in <code>on()</code>, such as <code>click()</code> and <code>keypress()</code>, which only takes a <em>function</em> that is executed when an event is fired. How about let's rewrite the above two sections of codes with the two functions that seem more direct?</p>
					<code>
						// Try the other one by yourself! <br/>
						window.onload = function() {
						<code>
							$('input').eq(0).click(function() { // Replace on() with click()
							<code>
								alert('An input is clicked!');
							</code>
							});
						</code>
						}
					</code>
					<p>I usually still go for <code>on()</code> when I do jQuery programming. The main reason is that I found the equivalent functions like <code>click()</code> or <code>keypress()</code> don't work in all contexts for some reason. Maybe it's just my own issue since I'm pretty <em class="extra">amateurish in this field</em>.</p>
					<p>Before we move on, I'd like to talk a bit more about the special interaction between <code>on()</code> and <code>eq()</code>. When I talked about <code>val()</code> earlier in this section, I specifically said that you could omit <code>eq()</code> if you are pretty sure that you always just need the value of the <em>first</em> element of a group of selected elements. However, if you omit <code>eq()</code> when you try to add an event listeners with <code>on()</code>, you're actually attaching exactly the same event listener to <em class="extra">ALL</em> elements selected by <code>$()</code>. Let's add another <code>&lt;input&gt;</code> element in the previous text-syncing example, and remove <code>eq(0)</code> after <code>$()</code> and see what happens:</p>
					<code>
						...<br/>
						&lt;!-- Add another input element in the HTML file --&gt;<br/>
						&lt;input type="text" value="This is a default value." /&gt;<br/>
						&lt;input type="text" value="This is a second input element." /&gt;<br/>
						...<br/>
						// Remove eq(0) in your JS file<br/>
						window.onload = function() {
						<code>
							// Attach the same even listener to all input elements<br/>
							$('input').on('keypress', function() {
							<code>
								$('textarea').eq(0).html($(this).val());
							</code>
							});
						</code>
						}
					</code>
					<p>Since you already understanding the meaning of <code>on()</code>, you possibly already know what <code>off()</code> means - yes, to remove an event listener, just like <code>removeEventListener()</code> in plain JavaScript. To demonstrate its use, let's follow an earlier text-syncing example with a button which, if clicked, would stop syncing:</p>
					<code>
						&lt;input type="text" value="This is a default value." /&gt;<br/>
						&lt;input type="button" id="stopSync" value="Stop Syncing!" /&gt;
					</code>
					<p>Then, in addition to the event listener for the text-syncing function associated to the text input field, we also need an event listener attached to the button to detach the text-syncing event listener (what a tongue twister):</p>
					<code>
						window.onload = function() {
						<code>
							// Text-syncing event listener
							$('input').eq(0).on('keypress', function() {
							<code>
								$('textarea').eq(0).html($(this).val());
							</code>
							});<br/>
							// Stop-syncing event listener<br/>
							$('#stopSync').on('click', function() {
							<code>
								$('input').eq(0).off('click'); // Specify the event type in off()
							</code>
							})
						</code>
						}
					</code>
					<p>Hopefully, the above tutorial allows you to get hold of the fundamental aspects of jQuery programming. It's actually the same logics that you've learned in the JavaScript tutorial, but represented in an easier way. But did you just think that the tutorial has come to an end? Nope, <em>you wish</em>.</p>
				</section>
				<section>
					<h2 id="useful">Some more useful functions</h2>
					<picture>
						<img src="./img/killing.jpg" style="height: auto; width: 25%;" />
						<sub>Source: <a href="https://www.gocomics.com/calvinandhobbes/" target="_blank">Bill Watterson</a></sub>
					</picture>
					<p>If the previous section is not a tutorial of useful jQuery programming, what could be? But we are actually not that far off the starting line. There are still a lot to do to equip you with the skills you need to design a great interactive website.</p>
					<h3>css()</h3>
					<p>In plain JavaScript, we have to again specify a long string of codes in order to get or set <em>JUST ONE</em> CSS property. <em class="extra">JUST ONE!!!</em> For instance, the following codes only get you an HTML document with a black background color:</p>
					<code>
						document.body.style.backgroundColor = 'black';
					</code>
					<p>Imagine how many lines you need to write to set multiple CSS properties, and even for a group of HTML elements. Here in jQuery, you can do it all at once with the function <code>css()</code>, which also adds <em class="extra">inline</em> CSS properties to an element or a set of elements. Let's try this function with the following blocks inside <code>&lt;body&gt;&lt;/body&gt;</code>.</p>
					<code>
						&lt;div style="height: 50px; width: 50px; background-color: yellow;"&gt;&lt;/div&gt;<br/>
						&lt;div style="height: 50px; width: 50px; background-color: yellow;"&gt;&lt;/div&gt;<br/>
						&lt;div style="height: 50px; width: 50px; background-color: yellow;"&gt;&lt;/div&gt;<br/>
						&lt;input type="button" id="changeOne" value="Change the color of one!" /&gt;<br/>
						&lt;input type="button" id="changeAll" value="Change the color of all!" /&gt;
					</code>
					<p>Our goal is to add a <code>click</code> event listener to each button and use the <code>css()</code> function to change the background color of the first block or all blocks. Since this involves only one CSS property, the <code>css()</code> function requires two string data - the first is the <em>name</em> of the CSS property, <em class="extra">as in a CSS file</em> (such as <code>background-color</code>), and the second is the <em>value</em> of that property. Let's do it.</p>
					<code>
						window.onload = function() {
						<code>
							// Use id to add an event listener<br/>
							$('#changeOne').on('click', function() {
							<code>
								// Change only the first block<br/>
								$('div').eq(0).css('background-color', 'red');
							</code>
							});<br/>
							// Use id to add an event listener<br/>
							$('#changeAll').on('click', function() {
							<code>
								// Change all blocks<br/>
								$('div').css('background-color', 'red');
							</code>
							});
						</code>
						};
					</code>
					<p>Now, if you need to set multiple CSS properties with <code>css()</code>, just put in pairs of property names and values as strings separated by a colon <code>:</code> inside <code>{}</code> and separate every two pairs with a comma, very similar to what you've done in a CSS file! We can therefore easily change the background color of a block, as well as the size of it!</p>
					<code>
						...<br/>
						$('#changeOne').on('click', function() {
						<code>
							// Specify multiple CSS properties in css()<br/>
							$('div').eq(0).css({'background-color': 'red', 'height': '70px', 'width': '70px'});
						</code>
						...
					</code>
					<p>It is just this easy to change the appearance of an element with this second use of <code>css()</code> in jQuery! Well, you still can retrieve one CSS property at a time with the first use of <code>css()</code> - bummer. But again, we should not take everything for granted, and this is the best we can get so far.</p>
					<h3>Making changes to more attributes</h3>
					<p>So far we've seen some jQuery functions that allow you to retrieve/change the <em>attributes</em> of an element. The <em>value</em> attribute could be accessed with <code>val()</code>, and the <code>style</code> attribute could be accessed with <code>css()</code>. You can keep playing around with <code>css()</code> especially when you need to create an interactive Web interface that changes the appearance HTML elements based on users' actions - that is, when an action is detected, an event is fired to apply the <code>css()</code> function to a specific element.</p>
					<p>But here we will learn another more elegant way of changing how a specific element looks like using the jQuery functions <code>addClass()</code> and <code>removeClass()</code>. As smart as you are, you might already know what these two functions mean, right? That is, to add and remove a specific label from the <code>class</code> attribute of HTML elements. Thus, the idea is that you can define the CSS properties for a particular <em>class</em> in your CSS file. Then, you only need to add the name of this class to HTML elements when necessary. And this approach opens up more possibilities in our Web design.</p>
					<p>Let's wind back to our previous HTML example repeated below without the two buttons and the inline style. In this old example, we need the buttons combined with the <code>css()</code> function to change the appearance of one or all of the <code>&lt;div&gt;</code> elements. But now, we can define a class in our CSS file, and add this class to a clicked <code>&lt;div&gt;</code> element to change its size and color.</p>
					<code>
						&lt;div&gt;&lt;/div&gt;<br/>
						&lt;div&gt;&lt;/div&gt;<br/>
						&lt;div&gt;&lt;/div&gt;
					</code>
					<p>Let's move the inline styling for the <code>&lt;div&gt;</code> elements as well as the styling we used in the <code>css()</code> function into a CSS file defined for the class named <code>selected</code>:</p>
					<code>
						/* Default styling for all DIVs */<br/>
						div {
						<code>
							background-color: yellow;<br/>
							height: 50px;<br/>
							width: 50px;
						</code>
						}<br/>
						/* Styling for DIVs in the class (.) selected */<br/>
						div.selected {
						<code>
							background-color: red;<br/>
							height: 70px;<br/>
							width: 70px;
						</code>
						}
					</code>
					<p>The last step is to associate an event listener to <em>all</em> <code>&lt;div&gt;</code> element using the jQuery function <code>on()</code>: When a <code>&lt;div&gt;</code> element is clicked, the class name <code>selected</code> is added to <em>that</em> particulart element with <code>addClass()</code>. Try it yourself! (and select the following section to get the solution)</p>
					<code style="color: #e68a00;">
						$('div').on('click', function() {
						<code style="color: inherit;">
							$(this).addClass('selected');
						</code>
						});
					</code>
					<p>Now, how do we <em>de-select</em> an element using <code>removeClass()</code>? Two steps are necessary here. First, we need to limit the first event listener to <code>&lt;div&gt;</code> elements <em>without</em> the <code>selected</code> class name, which could be achieved using the CSS <em class="extra">pseudo-class</em> <code>not()</code> (do you still remember how to use it?). This first step is essential because you want <code>addClass()</code> to be applied to <code>&lt;div&gt;</code> elements without the class name and <code>removeClass()</code> to be applied to those with the class name. Second, we have to add an event listener to a clicked element <em>after</em> <code>addClass()</code> is applied, which is fired to apply <code>removeClass()</code> when the element is clicked <em>again</em>. If you try to create this event listener separately in the <code>onload</code> function, it won't work (guess why?). Again, try it yourself (select the following section for the solution)!</p>
					<code style="color: #e68a00;">
						// Limit the first event listener to non-selected DIVs<br/>
						$('div').not('.selected').on('click', function() {
						<code style="color: inherit;">
							$(this).addClass('selected');<br/>
							// Add another event listener to apply removeClass() to selected DIVs<br/>
							$(this).on('click', function() {
							<code style="color: inherit;">
								$(this).removeClass('selected');
							</code>
							})
						</code>
						});
					</code>
					<p>Note that in the current example, the selecting-de-selecting function only works once. Do you know why that is? The reason is that the first <code>click</code> event listener with <code>addClass()</code> is overwritten by the second one with <code>removeClass()</code>, so the code could never add <code>selected</code> back to a given element again. I've got a solution, which requires you to enclose the selcting-de-selecting steps in a <em>custom function</em>, and re-associate this function to the same element after <code>removeClass()</code> is applied. Let me just leave this to you to help you explore the world of JavaScript/jQuery coding.</p>
					<p>Finally, how about creating another two buttons to (de-)select all <code>&lt;div&gt;</code> elements? Assuming that the buttons have <code>selectAll</code> and <code>selectNone</code> as their <code>id</code>, then the following event listeners are what you need for the functions:</p>
					<code>
						$('#selectAll').on('click', function() {
						<code>
							// Add class 'selected' to all DIVs<br/>
							$('div').addClass('selected');
						</code>
						});<br/>
						$('#selectNone').on('click', function() {
						<code>
							// Remove class 'selected' from all DIVs<br/>
							$('div').removeClass('selected');
						</code>
						});
					</code>
					<h3>DOM insertion and removal</h3>
					<picture>
						<img src="./img/fang.png" style="height: auto; width: 35%;" />
						<sub>Source: 九品芝麻官 the movie</sub>
					</picture>
					<p>While the contents of your personal websites would very likely stay intact, your might need to work on webpages in which elements could be added and deleted. Of course, JavaScript is ready for this need, let along jQuery - these three functions <code>append()</code>, <code>prepend()</code>, and remove() would do the job for you.</p>
					<ul>
						<li><code>append()</code> - Add an HTML element to be the <em class="extra">last</em> child of one or all selected elements.</li>
						<li><code>prepend()</code> - Add an HTML element to be the <em class="extra">first</em> child of one or all selected elements.</li>
						<li><code>remove()</code> - Remove all selected HTML elements.</li>
					</ul>
					<p>With these functions, we can easily (well, relatively) create a <em>to-do list</em> (which does not memorize things, though). Let's start with an HTML document with a <code>table</code> element and try to make it a to-do list. Inside <code>&lt;table&gt;&lt;/table&gt;</code>, we need <code>thead</code> for the headers and <code>tbody</code> for table rows. Again, their presentation is identical by default - we simply try to follow the semantic principles to use appropriate HTML tags for functionally different contents. Each row is represented using a <code>tr</code> element, in which two <code>td</code> elements are included to represent two columns. Inside <code>&lt;tbody&gt;&lt;/tbody&gt;</code>, the first column presents the date information, and the second presents the content of a to-do item. In each second column, we have the letter <em>X</em> for a clickable hyperlink that serves as a deletion button. Note that the <code>href</code> attribute is left blank since we don't need the "link" to redirect us to anywhere else.</p>
					<code>
						&lt;table&gt;
						<code>
							&lt;thead&gt;
							<code>
								&lt;tr&gt;&lt;td&gt;Date&lt;/td&gt;&lt;td&gt;Content&lt;/td&gt;&lt;/tr&gt;
							</code>
							&lt;/thead&gt;<br/>
							&lt;tbody&gt;
							<code>
								&lt;tr&gt;&lt;td&gt;2020-10-25&lt;/td&gt;&lt;td&gt;Create a to-do list &lt;a href=""&gt;X&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;<br/>
								&lt;tr&gt;&lt;td&gt;2020-10-26&lt;/td&gt;&lt;td&gt;Assignment Deadline &lt;a href=""&gt;X&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
							</code>
							&lt;/tbody&gt;
						</code>
						&lt;/table&gt;
					</code>
					<p>We can then begin our first step to make it possible to remove an item with <code>remove()</code> when <em>X</em> is clicked. Let's first build a function that is executed when a click event is fired, and let's call it <code>removeItem</code>. Why do we need to create this function independently? Well, when we are able to add new items to the list, we also need the <em>X</em> link of these items to listen to the same clicking event and then execute the same function. So, by creating an independent function, it's easier to re-use the same codes. The function must be ready to receive an <code>event</code> object that is passed from an event listener when an event is fire. We need this object to stop the default action of a link with its <code>preventDefault()</code> function, so we won't be redirected to nowhere when <em>X</em> is clicked. Then, since our goal is to remove the entire row represented by a <code>tr</code> element, and every <em>X</em> is the child of a <code>tr</code>, we can rely on this relation to get the ancestor <code>tr</code> element when <em>X</em> is clicked. This can be done with the <code>closest()</code> function in jQuery, which finds the ancestor HTML tag (<code>tr</code> in this case) closest to the element listening to a fired event (<code>a</code> in this case). After finding this ancestor element, we can then apply <code>remove()</code> to get rid of the entire row. Finally, let's attach this function to the event listener with the function <code>on()</code>.</p>
					<code>
						function removeItem(event) {
						<code>
							// Need to stop the default action of a link<br/>
							event.preventDefault();<br/>
							// Get the 'tr' element that is the closest parent of the clicked 'X' (represented by 'this')<br/>
							var targetRow = $(this).closest('tr'); <br/>
							// Remove the target 'tr' element<br/>
							targetRow.remove();
						</code>
						};<br/>
						window.onload = function() {
						<code>
							// Make every 'a' inside 'td' listening to a clicking event and execute 'removeItem'<br/>
							$('td > a').on('click', removeItem);
						</code>
						}
					</code>
					<p>Okay! We are now ready to move to the next stage - to be able to add items to a list. For this, we firstly need to add a <code>form</code> in which date and content can be input separately. We hope that when we click the <em>Add</em> button, the two fields could be obtained as date and content respectively, which will be combined with raw HTML codes, and then inserted as the last item into the list using <code>append()</code>. Then, we need to make the <em>X</em> link in the newly added items listen to a clicking event and execute <code>removeItem()</code> built above.</p>
					<code>
						&lt;form&gt;
						<code>
							&lt;input type="text" placeholder="Date"/&gt;<br/>
							&lt;input type="text" placeholder="Content"/&gt;<br/>
							&lt;input type="submit" value="Add"/&gt;<br/>
							&lt;input type="reset" value="Clear"/&gt;
						</code>
						&lt;/form&gt;
					</code>
					<p></p>
					<code></code>
				</section>
				<section>
					<h2 id="technical">More technical stuff</h2>
					<h3>Chain effects</h3>
					<h3>Asynchrounous feedback</h3>
				</section>
				<section>
					<h2 id="casestudy">Case Studies</h2>

				</section>
				<section>
					<h2 id="forthenextunit">For the next unit...</h2>
					<p>For the next unit, you will have to complete the following tasks:</p>
					<ol>
						<li>Find a website that impresses you the most. You'll have to explain why you like it in the next lecture.</li>
					</ol>
					<p><button onclick="rwd()">>> Responsive Web Design</button></p>
					<script>
						function rwd() {
							window.location.href = '/bwd/rwd/';
						}
					</script>
				</section>
				<sub>All Copyright Reserved; Tsung-Ying Chen 2020</sub>
			</article>
		</div>
	</body>
</html>