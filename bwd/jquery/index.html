<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Bilingual Web Design@DFLL NTHU; Tsung-Ying Chen</title>
		<link rel="stylesheet" href="/css/style.css">
		<script src="/js/jquery-3.2.1.min.js"></script>
		<meta charset="UTF-8">
	</head>
	<body>
		<nav>
			<h2>
				<a href="/bwd/">Intro</a>
				<a href="/bwd/htmlbasics/">HTML Basics</a>
				<a href="/bwd/cssbasics/">CSS Basics</a>
				<a href="/bwd/jsbasics/">JS Basics</a>
				<a class="selected" href="/bwd/jquery/">jQuery</a>
				<a href="/bwd/rwd/">Responsive Web</a>
				<a href="/bwd/cssanimation/">CSS Animation</a>
				<a href="/bwd/engissues/">English Issues</a>
				<a href="/bwd/students/">Students</a>
			</h2>
		</nav>
		<div class="container">
			<article>
				<h1>5. jQuery</h1>
				<p>Tired of juggling with crazily long JavaScript codes? Here's the tool to help you deal with your poor cognitive load.</p>
				<p><a href="#overview">Overview</a> / <a href="#dollarsign">The Dollar Sign</a> / <a href="#functions">The Essential Functions</a> / <a href="#courserequirements">Course Requirements</a> / <a href="#preparationworks">Preparation Works</a> / <a href="#moreongithub">More on GitHub</a> / <a href="#timetoexplore">It's time to explore!</a> / <a href="#forthenextunit">For the next unit...</a></p>
				<section>
					<h2 id="#overview">Overview</h2>
					<picture>
						<img src="./img/jquery.png" style="width: 25%; height: auto;"/>
					</picture>
					<p>All JavaScript codes make perfect sense: <code>addEventListener</code>? Sure. <code>document.querySelector()</code>? Fine. <code>document.getElementByTagName('div')[0].addEventListener()</code>? Probably a bit too much, right? Here's your savior: <em class="extra">jQuery</em> (<a href="https://jquery.com/" target="blank">https://jquery.com/</a>). It's still based on JavaScript, but it makes JavaScript programming much easier.</p>
					<p>Before introducing the basics of jQuery, let's try to embed jQuery into our website so we can use it. You can see different versions of jQuery at <a href="https://code.jquery.com/" target="blank">https://code.jquery.com/</a>, and of course we go for the most updated 3.x version. On this webpage, you would see various types of codes for jQuery Core, including <em>uncompressed</em>, <em>minified</em>, <em>slim</em>, and <em>slim minified</em>. Most people would probably use the <em class="extra">minified</em> version, which comes without any comments and with simplified codes and a reduced file size to facilitate data transmission. The <em>slim</em> versions further exclude some functions that are considered more marginal, such as those related to CSS animation, so for us they could be a bit oversimplified.</p>
					<h3>Get ready</h3>
					<p>There are two ways of incorporating jQuery into your website projects. First, we can use the <code>&lt;script&gt;</code> HTML tag inside <code>&lt;head&gt;&lt;/head&gt;</code> in an HTML document to retrieve the jQuery file from the official website (here <em>v3.5.1</em> is used as the example), just like how we linked a JS file to our webpage:</p>
					<code>
						&lt;script src="https://code.jquery.com/jquery-3.5.1.min.js"&gt;&lt;/script&gt;
					</code>
					<p>Or, following the official suggestion, we should have the complete line below for security reasons:</p>
					<code>
						&lt;script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"&gt;&lt;/script&gt;
					</code>
					<p>You can move the above line into <code>&lt;body&gt;&lt;/body&gt;</code>, which may not affect how your website works eventually. But to be safe, it is still the best idea to have the above line inside <code>&lt;head&gt;&lt;/head&gt;</code> as part of the metadata of a webpage, which is always loaded first. Crucially, if you have any jQuery codes to be run when the <em>Document Object Model (DOM)</em> of the webpage is ready, then the jQuery file <em class="extra">must</em> be linked inside <code>&lt;body&gt;&lt;/body&gt;</code> so it is guaranteed to be fully loaded before the DOM is ready. Or, your website may not work properly since the jQuery codes are run when the jQuery file is still on its way.</p>
					<p>Alternatively, if your Web space can afford an additional file sized just a few hundreds KBs, which is likely the case if you host your website at GitHub, then why not just download the entire jQuery Core file and put it in your own website? One benefit of doing this is that you don't rely on the external source of your jQuery Core file, so your website remains unaffected even when the official jQuery website is down (very unlikely, but who knows?). So assuming that you have a <code>js</code> directory under the <em class="extra">root</em> directory <code>/</code> as suggested in previous units, we can store the jQuery Core file to that directory. Again, the files you store in the subdirectories directly under the root directory are assumed to be used globally in your entire website, rather than specifically for a given webpage. Now, we can embed the following HTML codes inside <code>&lt;head&gt;&lt;/head&gt;</code> to load the jQuery file stored in your own website into your webpage:</p>
					<code>
						&lt;!-- The first "/" in the path refers to the root directory --&gt;<br/>
						&lt;script src="/js/jquery-3.5.1.min.js"&gt;&lt;/script&gt;
					</code>
					<p>Because from now on, your codes will be based on the jQuery Core file, your links to other JS files you have for a particular webpage must follow the above lines used to load the jQuery Core file. Once again, if you have any jQuery codes that need to be run at the very beginning after a webpage is loaded, then you want to be sure that the jQuery Core file is loaded first.</p>
					<p>So, now you're ready to enjoy Web programming even more, and I'm here to help. This won't be a complete guide, so just in case that you want to know further about what jQuery can make things easier, check the full jQuery API documentation at <a href="https://api.jquery.com/" target="blank">https://api.jquery.com/</a>.</p>
				</section>
				<section>
					<h2 id="dollarsign">The Dollar Sign</h2>
					<picture>
						<img src="./img/showme.gif" style="width: 50%; height: auto;" />
						<sub>Source: Jerry McGuire the movie</sub>
					</picture>
					<p>In our JavaScript tutorial, we have learned the <code>window</code> object is at the center of JavaScript programming, which refers to the Web browser window and could be omitted when we try to access the HTML document itself inside the browser window with the keyword <code>document</code>. Here in this tutorial, we would start with the dollar sign <code>$</code>, which stands for <em class="extra">jQuery</em> itself. For instance, the two lines of jQuery codes below are exactly the same thing, except that the first line is simpler than the second line:</p>
					<code>
						$.ajax(); // You don't have to know what ajax is at this point<br/>
						jQuery.ajax(); // The same thing<br/>
					</code>
					<p>Not only does it help to save your effort in writing your codes, it also helps reduce the size of your JS files and speed up the loading of your entire website. Let's see how much effort jQuery saves in terms of the action we possibly need the most in our JS codes - retrieving HTML elements.</p>
					<h3>The query selector in three characters</h3>
					<p>I hope you still remember a few JS functions we have used to access an HTML document and retrieve some HTML elements. These includes <code>getElementById()</code>, <code>getElementsByTagName()</code>, <code>getElementsByClassName()</code>, <code>querySelector()</code>, and <code>querySelectorAll()</code>. The last two are the most crucial ones when you need to get HTML elements depending on the complex relationship between children and ancestors in a DOM. Supposed that you need to retrieve all <code>&lt;p&gt;</code> elements that have <code>&lt;body&gt;</code> as their immediate ancestor, you might need to write the expectedly long JS codes like:</p>
					<code>
						document.querySelectorAll('body > p'); // Get all &lt;p&gt; elements immediately inside &lt;body&gt;
					</code>
					<p>In jQuery, we can exactly replicate the same function of <code>querySelectorAll()</code> with three characters, namely <code>$()</code>:</p>
					<code>
						$('body > p'); // Also get all &lt;p&gt; elements immediately inside &lt;body&gt;
					</code>
					<p>Just like <code>querySelectorAll()</code>, <code>$()</code> returns an <em class="extra">array</em> of one or more matched HTML elements or an <em>empty</em> array that has a length of <em class="extra">zero</em>. Let's create the following HTML document with some practices of retrieving HTML elements using jQuery:</p>
					<code>
						&lt;body&gt;
						<code>
							&lt;p&gt;
							<code>
								p1
							</code>
							&lt;/p&gt;<br/>
							&lt;p class="special"&gt;
							<code>
								p2
							</code>
							&lt;/p&gt;<br/>
							&lt;p class="special last"&gt;
							<code>
								&lt;p&gt;<br/>
								&lt;/p&gt;
							</code>
							&lt;/p&gt;
						</code>
						&lt;/body&gt;
					</code>
					<p>Now, let's try to do the find the following HTML elements and print their <em class="extra">HTML contents</em> out in the browser console:</p>
					<ol>
						<li>The <code>&lt;p&gt;</code> element that is the immediate child of the element whose class is <code>last</code>.</li>
						<li>The last <code>&lt;p&gt;</code> element whose ancestor is &lt;body&gt;.</li>
						<li>All <code>&lt;p&gt;</code> elements that are an immediate child of &lt;body&gt;.</li>
						<li>The second <code>&lt;p&gt;</code> element of the class <code>special</code>.</li>
					</ol>
					<h3>eq() and html()</h3>
					<p>The way you completed the above task may still involve some old thinking with the idea of array, which is absolutely nothing wrong. For instance, you might use the following code to retrieve the first <code>&lt;p&gt;</code> element, where the square brackets are used to indicate the first element of the array returned by <code>$()</code>:</p>
					<code>
						$('p')[0]; // The first of all &lt;p&gt; elements
					</code>
					<p>But if you need to get the last item, what we have learned to do up to this point is still sort of troublesome. You get an array of HTML elements, get the length of the array, and retrieve the last element from the array with the index as the length of the array minus 1. <em>Gee!</em> The jQuery developers must have been bothered by the same problem, which drove them to create the second jQuery function you need learn in this tutorial, namely <code>eq()</code>. Similar to the square brackets <code>[]</code>, <code>eq()</code> allows you to choose a specific item based on an index, except that you can count backward from the end of a series of elements with a <em class="extra">negative</em> number:</p>
					<code>
						$('p').eq(0); // The first of all &lt;p&gt; elements<br/>
						$('p').eq(-1); // The last of all &lt;p&gt; elements
					</code>
					<p>When you use <code>eq()</code> to choose an HTML element from a set of matched elements, you need to use the jQuery function <code>html()</code> (which corresponds to the <code>innerHTML</code> property) to retrieve the HTML contents of the chosen element:</p>
					<code>
						$('p').eq(0).html(); // The HTML contents of the first of all &lt;p&gt; elements
					</code>
					<p>Now, why don't we try the practices we have done earlier using <code>eq()</code> and <code>html()</code>?</p>
					<p>Isn't it so much easier to do different things in jQuery? That's why jQuery becomes so popular in Web programming. Note that jQuery is still not magic at all - it is still based on the original JavaScript and the developers of jQuery simply create functions to help simply our use of JavaScript. Thus, the convenience of jQuery comes at the cost of the computational efficiency of JavaScript, although with very powerful computers and mobile devices at our disposal, the difference is often negligible.</p>
				</section>
				<section>
					<h2 id="functions">Some Essential Functions</h2>
					<p>With a general understanding of how jQuery works, let's move to some tutorials introducing jQuery functions that you will be using a lot in addition to <code>eq()</code> and <code>html()</code> above.</p>
					<h3>val()</h3>
					<p>In the JavaScript tutorial, we had examples in which we tried to retrieve or set the <em>value</em> of an HTML element, with a length code like <code>document.querySelector(some element).value</code>. Now, it can be reduced with the jQuery function <code>val()</code>. This can be demonstrated with an HTML document that has the following <code>input</code> element in <code>&lt;body&gt;</code>:</p>
					<code>
						&lt;input type="text" value="This is a default value." /&gt;
					</code>
					<p>In a JS file, we can try to show an alert box with the value of the <code>input</code> element with the <code>val()</code> function when the window is fully loaded:</p>
					<code>
						window.onload = function() {
						<code>
							var defaultInputVal = $('input').eq(0).val();<br/>
							alert(defaultInputVal);
						</code>
						}
					</code>
					<p>
						Of course, it means that you can set the value of an HTML element with the same function, too:
					</p>
					<code>
						window.onload = function() {
						<code>
							$('input').eq(0).val('This is not the default value.'); // Set a new value<br/>
							alert('A new input value is set!');
						</code>
						}
					</code>
					<h3>on()</h3>
					<p>Remember the <code>addEventListener</code> field of an HTML object accessed in a JS file to create some interactive interface for your website? There's of couse an equivalent function in jQuery as well, which is <code>on()</code>. This function requires two types of data: The first one is event type (as a <em>string</em>), and the second one is the function executed when an event is <em>fired</em>. Let's try the <code>click</code> event first:</p>
					<code>
						window.onload = function() { // Make sure the document is fully loaded
						<code>
							$('input').eq(0).on('click', function() {
							<code>
								alert('An input is clicked!');
							</code>
							});
						</code>
						}
					</code>
					<p>Now let's do a more complicated trick with the <code>keypress</code> event. That is, to update what you type in the <code>input</code> to a <code>&lt;textarea&gt;&lt;/textarea&gt;</code> <em class="extra">inline</em> element instantly. Let's create the element we need right before the <code>&lt;input&gt;</code> element:</p>
					<code>
						&lt;!-- Set the inline style to make a larger textarea, and add a line break after it --&gt;
						&lt;textarea style="width: 300px; height: 300px;"&gt;&lt;/textarea&gt;&lt;br/&gt;
					</code>
				</section>
				<section>
					<h2 id="forthenextunit">For the next unit...</h2>
					<p>For the next unit, you will have to complete the following tasks:</p>
					<ol>
						<li>Find a website that impresses you the most. You'll have to explain why you like it in the next lecture.</li>
					</ol>
					<p><button onclick="htmlbasics()">>> Responsive Web Design</button></p>
					<script>
						function htmlbasics() {
							window.location.href = '/bwd/rwd/';
						}
					</script>
				</section>
				<sub>All Copyright Reserved; Tsung-Ying Chen 2020</sub>
			</article>
		</div>
	</body>
</html>